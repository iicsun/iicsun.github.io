<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
        audio { width: 100%; }

        li {
    
              display: inline-block; 
              list-style:none; 
              margin:0 20px;

              
        }
        div {
              height: 60px;
        }
        .active{
			background-color: #e21732;
			color: #fafcfc;

        }
        body {margin-left: 0px;margin-top: 0px;margin-right: 0px;margin-bottom: 0px;overflow: hidden;}
    </style>
</head>
<body>

<script type="text/javascript">
    var file_path = '/F/1_学习资源_乐乐英语/6100 棚车少年/001_003_The Boxcar Children/';
    var count = 43; //一共多少MP3文件
</script>

<script type="text/javascript">
var file_index = '01'; // 初始化播放那个文件
var file_ext = '.mp3';
window.onload = function(){
    var audio = new Audio();
    audio.preload = true;
    audio.controls = true;
    audio.loop = false;
    audio.src = file_path + file_index + file_ext;
    document.body.appendChild(audio);
    //audio.play();
    audio.addEventListener('ended', playEndedHandler, false);
 
    function playEndedHandler(){
        var file_name = parseInt(file_index);
        file_name = file_name+1 < 10 ? '0'+(file_name+1) : (file_name+1);
        console.log(file_name + file_ext)
        file_name>count && audio.removeEventListener('ended',playEndedHandler,false);
        file_index = file_name;
        audio.src = file_path + file_name + file_ext;
        audio.play();

        var lis = document.getElementsByTagName("li")
        for(var j = 0; j< lis.length; j++)
        {
            lis[j].classList.remove('active');
            if(lis[j].innerHTML == file_name)
            {
                lis[j].classList.add("active");
            }
                
        }
    }
 
 
 
    var div = document.createElement('div');
    var ul = document.createElement('ul');
    for (var i = 1; i <=count; i++) {
        var name = i<10 ? '0'+i : i;
        var li = document.createElement('li');
        if(i==1)
        {
            li.classList.add("active");
        }
        var text = document.createTextNode(name);
        li.appendChild(text);
       
        ul.appendChild(li);
        li.addEventListener('click',function(event){
            file_index = event.target.innerHTML;
            audio.src= file_path + event.target.innerHTML + file_ext;
            audio.play();

            var siblings = this.parentNode.children;
            for(var j = 0; j< siblings.length; j++)
            {
                siblings[j].classList.remove('active');
            }
            this.classList.add("active");

        },false)
    }
    div.appendChild(ul);
    document.body.appendChild(div);
}
</script>
</body>
</html>